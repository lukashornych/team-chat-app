const pool = require('../../index').connectionDB;

const photo = process.env.DEFAULT_BASE64_PHOTO || "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zjzzzzTzyjzzzzzzzzzzzzzjjTzzzjzzzTDzzzzzzzzzzzyjzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzjTzzzzzzzzzzjzzzzzzzzzzzzzzzzzzzzzzzzzDzzzzzzzzzzyjTzzzzzzzzzzzzzzzzzzzzzzzxzzzzzzzzzzzyhzzzzzzzzzzzzzzzzzzzzzzzzyjzzzzzzzzzzzjzzzzzzzzzzzzzzzzzzzzzzzzyxTzzzzzzzzzxjzzzzzzzzzzzzzzzzzzzzzzzzzxjzzzzzzzzyzzzzzzzzzzzzzzzzzzzzzzzzzzzzxTzzzzzzzyzzzzzzzzzzzzzzzzzzzzzzzzzzzzzDzzzzzzyjTzzzzzzzzzzzzzzzzzzzzzzzzzzzyzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzyzzzzzzzyzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzDzzzzzzyzTzzzzzzzzzzzzzzzzzzzzzzzzzzzjTzzzzzzyxTTzzzzzzzzzzzzzzzzzzzzzzzziQjxDzzzzzxTzjjTzzzzzzzzzzzzzzzzzzjTRxzzjyzjzzzgzzzzzwzDjzzzzzzzzzzzzzhzxzzzzyzzyxTSSTzzzzzzzzzxjDzzzzzzzywTzzzzzzzyzzzzzyjTzzjzzzzzzzzwzzzzzzzwTzzzzzzzzyjzzhTzxDzyzzzzzzzzzzxTzzzzyhTzzzzzzzzzxTyxTzizzxzzzzzzzzzzxDzzzzzzzzzzzzzzzzxDzwDyhTzhzzzzzzzzzzyjzzzzxjzzzzzzzzzzzzzjTzxTzjzzzzzzzzzzzzTzzzxTzzzzzzzzzzyzzhzzyzxTzzzzzzzzzzzzTzzyjzzzzzzzzzzzzyjjzzyyxzzzzzzzzzzzzwTzzyzzzzzzzzzzzzzzgTzzywjzzzzzzzzzzzzzjzzzzzzzzzzzzzzzzzyDzzyxTzzzzzzzzzzzzyTzzyyxTTzzzzzzzzzzzzzzzzzzzzzzzzzzzjBwzzzzzzywyDzDzzzzzzzzzzzzzzzzzzzziCBzzzzzzzzzzzzzwzwzTzjTzzzzzzzzjzigzxzzzzzzzzzzzzzzzzzzzzzzyywxwyzzwxzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz/xAAUEQEAAAAAAAAAAAAAAAAA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";
const img = Buffer.from(photo, 'base64');
/**
 ** GET ACCOUNT PHOTO
 ** authenticated by token
 **/
const getAccountPhoto = (req, res) => {

  const id = req.params.id;

  pool.query(`SELECT data FROM photo p JOIN accountInPhoto aip ON p.id=aip.photoId WHERE aip.accountId=${id};`, function (queryError, queryResults, queryFields) {
    if (queryError) {
      console.error("\n\x1b[31mQuery error! \x1b[0m\x1b[32m" + queryError.code + "\x1b[0m\n" + queryError.sqlMessage);
      return res.sendStatus(500);
    }

    if (queryResults[0]) {
      const img = Buffer.from(queryResults[0].data.toString(), "base64");

      res.writeHead(200, {
        'Content-Type': 'image/jpg',
        'Content-Length': img.length
      });

      res.end(img);

    } else {
      //const img = Buffer.from(photo, 'base64');

      res.writeHead(200, {
        'Content-Type': 'image/jpg',
        'Content-Length': img.length
      });

      res.end(img);
    }

  });
}

module.exports = getAccountPhoto;
